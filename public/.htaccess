# Enable rewrite engine
RewriteEngine On

# Serve existing files and directories directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Rewrite all other requests to index.html
RewriteRule ^ index.html [L]

# Set correct MIME types
AddType application/javascript .js
AddType application/json .json
AddType text/css .css

# Disable caching for service worker
<FilesMatch "prompt-sw\.js$">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
</FilesMatch>